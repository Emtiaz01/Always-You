<!-- Show navigation only when logged in -->
<nav class="romantic-nav" *ngIf="authService.isLoggedIn()">
  <div class="nav-container">
    <a routerLink="/" class="nav-item home-btn" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
      <span class="nav-icon">ğŸ¡</span>
      <span class="nav-label">Home</span>
      <span class="nav-heart">ğŸ’•</span>
    </a>
    
    <a routerLink="/playlist" class="nav-item" routerLinkActive="active">
      <span class="nav-icon">ğŸµ</span>
      <span class="nav-label">Songs for You</span>
      <span class="nav-heart">ğŸ’–</span>
    </a>
    
    <!-- Logout Button -->
    <button class="nav-item logout-btn" (click)="logout()">
      <span class="nav-icon">ğŸ‘‹</span>
      <span class="nav-label">Logout</span>
      <span class="nav-heart">ğŸ’”</span>
    </button>
  </div>
</nav>

<!-- Global Music Control - Only show when logged in -->
<div class="global-music-wrapper" *ngIf="authService.isLoggedIn()">
  <div class="music-controls">
    <button class="control-btn" (click)="previousSong()" *ngIf="musicService.isPlaying()" title="Previous Song">
      â®ï¸
    </button>
    
    <button class="global-music-control" (click)="toggleMusic()" [class.playing]="musicService.isPlaying()">
      <span class="music-icon" *ngIf="!musicService.isPlaying()">ğŸµ</span>
      <span class="music-icon playing" *ngIf="musicService.isPlaying()">ğŸ¶</span>
      <span class="music-text">{{ musicService.isPlaying() ? 'Music On' : 'Play Music' }}</span>
    </button>
    
    <button class="control-btn" (click)="nextSong()" *ngIf="musicService.isPlaying()" title="Next Song">
      â­ï¸
    </button>
    
    <button class="volume-toggle" (click)="toggleVolumeSlider()" *ngIf="musicService.isPlaying()" title="Volume">
      <span *ngIf="musicService.volume() > 0.5">ğŸ”Š</span>
      <span *ngIf="musicService.volume() > 0 && musicService.volume() <= 0.5">ğŸ”‰</span>
      <span *ngIf="musicService.volume() === 0">ğŸ”‡</span>
    </button>
  </div>
  
  <div class="volume-slider-wrapper" *ngIf="showVolumeSlider() && musicService.isPlaying()">
    <input 
      type="range" 
      min="0" 
      max="1" 
      step="0.05" 
      [value]="musicService.volume()" 
      (input)="onVolumeChange($event)"
      class="volume-slider"
    />
    <span class="volume-label">{{ (musicService.volume() * 100).toFixed(0) }}%</span>
  </div>
</div>

<router-outlet />

<!-- Scroll to Top Cartoon Button - Only show when logged in -->
<app-scroll-to-top *ngIf="authService.isLoggedIn()"></app-scroll-to-top>
